<!-- Output area for this code -->
<div id="editor-master">
    <div class="row" id="editor-output">

    </div>
    {#<div class="row">{% include "compete/includes/editor/stats.html" %}</div>#}
</div>

<!-- A handlebars template for a code editor via CodeMirror -->
{%raw%}
<script id="editor-template" type="text/x-handlebars-template">
    <div class='col-{{ colSize }}' id='editor-div'> <!--TODO: Figure out how to handle duplicate IDs-->
        <textarea name="code" id="editor-textarea"></textarea>
    </div>
</script>
{%endraw%}

<!-- Code to render the template and CodeMirror editor -->
 {%raw%}
<script>
    //Render template
    const source = document.getElementById('editor-template').innerHTML;
    const template = Handlebars.compile(source);
    const context = { 
        colSize: 12
    }; // Change how col size is determined to make the website responsive
    const html = template(context);
    document.getElementById('editor-output').innerHTML = html; // Probably look into a better way of doing this?

    //Initialize CodeMirror
    //TODO: Make config dynamic
    var editor = CodeMirror.fromTextArea(document.getElementById("editor-textarea"), {
        lineNumbers: true,
        mode: "javascript",
        indentUnit: 4,
        tabSize: 4,
        smartIndent: true,
        showCursorWhenSelecting: true,
        extraKeys: {"Ctrl-Space": "autocomplete"},
        lineWrapping: true,
        theme: "darcula"
    });
</script>
{%endraw%}

<!-- Styling for this block of code -->
<style>
    .CodeMirror {
        border: 4px solid #444444;
        border-radius: 4px;
    }
</style>